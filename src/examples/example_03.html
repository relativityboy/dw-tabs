<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DWTabs Example 3</title>

  <!-- the css in here pretties things up a bit, but it's not necessary for showing/hiding tabs -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <!-- begin: includes you need -->
  <script src="js/jquery.min.js"></script>
  <script src="../dist/js/dw-tabs.js"></script>
  <!-- end: includes you need -->

  <!-- begin:code you need -->
  <script>
    //initialize the tabs
    $(document).ready(function() {
      $('.w-navbar').dwTabs('.w-navcontent');
      $('.w-exampleTabCode').text($('#exampleTabCode').html());
    });

  </script>
  <script id="exampleTabCode">
    /**
     * Adding new tab code.
     * I've made variable declarations and templates as accessible as possible. & kept dependencies low for clarity.
     */
    $(document).ready(function() {
      var tplTab = $('#tabTemplate').html(), //template for the tab html
          tplTabContent = $('#tabContentTemplate').html(), //template for the content html
          $newTabName = $('.w-atr-newTabName:first'), //the input element where you put the tab name
          $newTabBtn = $('.w-ctrl-newTab:first'), //button to trigger adding the new tab
          $tabRoot = $('.w-navbar:first'), //the container for the tabs
          $tabContentRoot = $('.w-navcontent:first'); //the container for the tab content

      //new tab is added here. Notice that this code doesn't know about dwTabs at all. It just inserts html into the dom
      $newTabBtn.on("click", function() {
        $tabRoot.append(tplTab.replace(/{tabName}/g, $newTabName.val()));
        $tabContentRoot.append(tplTabContent.replace(/{tabName}/g, $newTabName.val()));
        });

    });
  </script>
  <style type="text/css">
    .panel {
      display:none;
    }

    .panel.active {
      display:block;
    }
    .nav-bar li.active {
      background:lightblue;
    }
  </style>
  <!-- end:code you need -->
</head>
<body>
<h2>Example 3. Adding tabs dynamically</h2>
<div class="container-fluid">
  <div class="row">
    <div class="input-group col-xs-12 col-md-6">
      <span class="input-group-addon">Add a tab:</span>
      <input type="text" class="form-control w-atr-newTabName" placeholder="Tab name">
    <span class="input-group-btn">
      <button type="button" class="btn btn-primary w-ctrl-newTab">add</button>
    </span>
    </div>
  </div>
</div>
<ul class="w-navbar nav nav-tabs" role="tablist">
  <li class="w-dwtab" data-dwtarget="description" role="presentation" class=""><a href="#" aria-controls="home" role="tab" data-toggle="tab">Description</a></li>
  <li class="w-dwtab" data-dwtarget="asciiart" role="presentation"><a href="#" aria-controls="profile" role="tab" data-toggle="tab">Ascii Art</a></li>
  <li class="w-dwtab" data-dwtarget="circle" role="presentation"><a href="#" aria-controls="messages" role="tab" data-toggle="tab">Circle</a></li>
  <li class="w-dwtab" data-dwtarget="veganipsum" role="presentation"><a href="#" aria-controls="settings" role="tab" data-toggle="tab">Vegan Ipsum</a></li>
</ul>
<div class="w-navcontent container-fluid">
  <div class="w-dwcontent panel active" data-dwtarget="description">
    <div class="panel-body">
      <p>In this example we're still using all DW-Tabs defaults</p>
      <p>To add a new tab, just type the name of your new tab in the box and click the 'add' button.
        The name you type will be used for the tab text, target text, and content.
        I've included the code that does the addition below. The templates are at the bottom of the page source if you
      need to take a closer look.</p>
      <pre class="w-exampleTabCode"></pre>
    </div>
  </div>
  <div class="w-dwcontent panel" data-dwtarget="circle">
    <div class="panel-body">
      A nice green circle:
      <svg id="circle" height="200" xmlns="http://www.w3.org/2000/svg">
        <circle id="greencircle" cx="30" cy="30" r="30" fill="green" />
      </svg>

      <hr>
      <address>Created by DKS. This is free code</address>
    </div>
  </div>
  <div class="w-dwcontent panel" data-dwtarget="asciiart">
    <div class="panel-body">
        <pre>
      .____    .__  _____        .__                                      .__
      |    |   |__|/ ____\____   |__| ______ _____    _____ _____  _______|__| ____    ____
      |    |   |  \   __\/ __ \  |  |/  ___/ \__  \  /     \\__  \ \___   /  |/    \  / ___\
      |    |___|  ||  | \  ___/  |  |\___ \   / __ \|  Y Y  \/ __ \_/    /|  |   |  \/ /_/  &gt;
      |_______ \__||__|  \___  &gt; |__/____  &gt; (____  /__|_|  (____  /_____ \__|___|  /\___  /
      \/             \/          \/       \/      \/     \/      \/       \//_____/
        </pre>
    </div>
  </div>
  <div class="w-dwcontent panel" data-dwtarget="veganipsum">
    <div class="panel-body">
      <p>
        Fiddlehead pignut sierra leone bologi sweet potato or kumara cardoon, parsnip; fat hen, pignut pak choy cardoon. Spring Onion garbanzo water spinach celery, mooli manioc. Bamboo shoot prairie turnip garbanzo, american groundnut; swede chinese mallow; pigeon pea. Epazote cauliflower scallion asparagus collard greens water chestnut. Chinese cabbage florence fennel swede salsify.
      </p><p>
      Skirret jerusalem artichoke, polk eggplant winter melon. Burdock chinese cabbage burdock bamboo shoot melokhia?
    </p>
    </div>
  </div>
</div>
<script id="tabTemplate" type="text/html">
  <li class="w-dwtab" data-dwtarget="{tabName}" role="presentation"><a href="#" role="tab" data-toggle="tab">{tabName}</a></li>
</script>
<script id="tabContentTemplate" type="text/html">
  <div class="w-dwcontent panel" data-dwtarget="{tabName}">
    <div class="panel-body">
        <pre>
          This is the content for tab - {tabName}
        </pre>
    </div>
  </div>
</script>
</body>
</html>